refacto all class to functions
use redux to solve warning about state
